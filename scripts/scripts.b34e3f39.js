!function(){"use strict";window.gabConciergeJSONConfig={menu:{main:{actions:["news","music","fun","plan","social","learn"]},news:{title:"News is important...",actions:["sports_news","hot_news","political_news","world_news","gossip_news","inspiring_news"]},music:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]},fun:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]},plan:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]},social:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]},learn:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]},browse:{title:"News is important...",actions:["news","music","fun","plan","social","learn"]}},destination:{sports_news:{description:"Description",father:"news",links:[{logo:"http://placecage.com/100/100",text:"Label",href:"http://example.com"}]}},action:{news:{icon:"http://placecage.com/100/100",title:"Catch Up On Some News",type:"menu"},music:{icon:"http://placecage.com/100/100",title:"Listen To Some Music",type:"menu"},fun:{icon:"http://placecage.com/100/100",title:"Laugh Your Ass Off",type:"menu"},plan:{icon:"http://placecage.com/100/100",title:"Plan Your Day",type:"menu"},social:{icon:"http://placecage.com/100/100",title:"See What Your Friends Are Up To",type:"menu"},learn:{icon:"http://placecage.com/100/100",title:"Learn Something Cool",type:"menu"},browse:{icon:"http://placecage.com/100/100",title:"Browse The Web",type:"special"},create:{icon:"http://placecage.com/100/100",title:"Create Your Own Concierge",type:"special"},sports_news:{icon:"http://placecage.com/100/100",title:"See who won the big game.",type:"destination"},hot_news:{icon:"http://placecage.com/100/100",title:"What you should know today.",type:"destination"},political_news:{icon:"http://placecage.com/100/100",title:"Win your political arguments.",type:"destination"},world_news:{icon:"http://placecage.com/100/100",title:"Around the world.",type:"destination"},gossip_news:{icon:"http://placecage.com/100/100",title:"Celebrity gossip.",type:"destination"},inspiring_news:{icon:"http://placecage.com/100/100",title:"Get inspired",type:"destination"},financial_news:{icon:"http://placecage.com/100/100",title:"Show me the money.",type:"destination"},entertainment_news:{icon:"http://placecage.com/100/100",title:"Entertainment, art & music",type:"destination"}}}}();var __hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};!function(){var a,b,c,d,e;return Handlebars.registerHelper("render_actions",function(a){var b;return b=a.map(function(a){return a.render().html()}),new Handlebars.SafeString(b.join(""))}),e=window.history.location||window.location,b=function(){function a(b){var c,d;return this.type=this.constructor.name.toLowerCase(),this.name=b,this.domid=""+this.name+"_"+this.type,c=(null!=(d=a.json[""+this.type])?d[b]:void 0)||a.json,Object.keys(c).reduce(function(a,b){return a[b]=c[b],a},this),this}return a.json=window.gabConciergeJSONConfig,a.init=function(a){var b;return b=this,this.$el=$(a).empty(),this.menus={},this.destinations={},Object.keys(this.json.menu).reduce(function(a,b){var c;return c=new d(b),a[""+b+"_menu"]=c,a.$el.append(c.render()),a},b),Object.keys(this.json.destination).reduce(function(a,b){var d;return d=new c(b),a[""+b+"_destination"]=d,a.$el.append(d.render()),a},b),$(a).on("click","a",function(a){var c;return a.preventDefault(),c=$(this).attr("href").replace(/.*#/,""),b[c]?b.activate(b[c]):void 0}),$(window).on("popstate",function(a){var c;return c=a.originalEvent.state,c&&b[c.target]?b.activate(b[c.target]):void 0}),this.activate(this.main_menu),this},a.on=function(a,b){return $(this).on(a,b),this},a.off=function(a,b){return $(this).off(a,b)},a.once=function(a,b){return $(this).one(a,b)},a.fire=function(a,b){return $(this).trigger(a,b)},a.reset=function(a){return this.$el.find(".active").removeClass("active"),setTimeout(a,200)},a.activate=function(a){var b;return b=this,this.busy||this.$el.is(".active")?!1:(this.busy=!0,this.reset(function(){return a.show(function(){var c;return c="replaceState",history.state&&history.state.target&&history.state.target!==a.domid&&(c="pushState"),history[c]({target:a.domid},b.name,"#"+a.domid),b.busy=!1})}),this)},a.prototype.render=function(){var a;return this.template||(a=$("#"+this.constructor.name.toLowerCase()+"-template").html(),this.template=Handlebars.compile(a)),this.$el=$(this.template(this)),this.$el.data(this.type,this),this.$el},a.prototype.show=function(a){return this.$el.addClass("active"),setTimeout(a,200)},a.prototype.hide=function(){return this.$el.removeClass("active"),setTimeout(callback,200)},a}(),a=function(a){function b(a,c){return this.menu=c,b.__super__.constructor.call(this,a),this.href=""+this.name+"_"+this.type,this}return __extends(b,a),b}(b),d=function(b){function c(b){var d;return c.__super__.constructor.call(this,b),d=this,this.isMain="main"===b,this.actions&&(this.actions=this.actions.map(function(b){var c;return c=new a(b),c.menu=d,c})),this}return __extends(c,b),c}(b),c=function(a){function b(a){b.__super__.constructor.call(this,a)}return __extends(b,a),b}(d),b.init("#content")}();